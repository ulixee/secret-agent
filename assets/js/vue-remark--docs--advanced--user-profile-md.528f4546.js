(window.webpackJsonp=window.webpackJsonp||[]).push([[201],{ej6K:function(e,t,r){"use strict";r.r(t);var o=r("Ow4o"),a=r("vu0Y"),n=r("pLV6");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.a.config.optionMergeStrategies;var i={VueRemarkRoot:a.a},p=function(e){var t=e.options.components=e.options.components||{},r=e.options.computed=e.options.computed||{};Object.keys(i).forEach((function(e){"object"===s(i[e])&&"function"==typeof i[e].render||"function"==typeof i[e]&&"function"==typeof i[e].options.render?t[e]=i[e]:r[e]=function(){return i[e]}}))},c=n.a.config.optionMergeStrategies,v="__vueRemarkFrontMatter",d={excerpt:null,title:"UserProfile"};var l=function(e){e.options[v]&&(e.options[v]=d),n.a.util.defineReactive(e.options,v,d),e.options.computed=c.computed({$frontmatter:function(){return e.options[v]}},e.options.computed)},u=Object(o.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("VueRemarkRoot",[r("h1",{attrs:{id:"userprofile"}},[r("a",{attrs:{href:"#userprofile","aria-hidden":"true"}},[e._v("#")]),e._v("UserProfile")]),r("blockquote",[r("p",[e._v('UserProfiles are "saved state" of a User that can be restored to later resume a session.')])]),r("p",[e._v("UserProfiles enable you to capture the full browser state of a user after performing a series of activities. You might use this to:")]),r("ul",[r("li",[e._v('resume the state of a "logged-in" user')]),r("li",[e._v('accumulate "usage" behavior for an ongoing profile')]),r("li",[e._v("share browser profiles between Agent instances running on different machines")])]),r("h2",{attrs:{id:"constructor"}},[r("a",{attrs:{href:"#constructor","aria-hidden":"true"}},[e._v("#")]),e._v("Constructor")]),r("p",[e._v('This "state" is not instantiated, but retrieved from an Agent instance: '),r("a",{attrs:{href:"/docs/basic-interfaces/agent#export-profile"}},[e._v("agent.exportUserProfile()")]),e._v(".")]),r("p",[e._v("State is stored for all domains (origins) that are loaded into a window at the time of export. The exported state is JSON with additional type information for IndexedDB complex objects.")]),r("p",[e._v("When you restore a UserProfile, SecretAgent will restore the Cookies, Dom Storage and IndexedDB records for all domains that are included in the state.")]),r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",{pre:!0,attrs:{class:"language-js"}},[r("span",{pre:!0,attrs:{class:"token keyword control-flow"}},[e._v("await")]),e._v(" agent"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),r("span",{pre:!0,attrs:{class:"token method function property-access"}},[e._v("goto")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[e._v("'https://dataliberationfoundation.org'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" theStoredProfile "),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token keyword control-flow"}},[e._v("await")]),e._v(" agent"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),r("span",{pre:!0,attrs:{class:"token method function property-access"}},[e._v("exportUserProfile")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ... some time later...")]),e._v("\n\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// This browser will be instantiated with all the cookies")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// dom storage, etc from the prior session.")]),e._v("\n\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" agentWithProfile "),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token keyword control-flow"}},[e._v("await")]),e._v(" handler"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),r("span",{pre:!0,attrs:{class:"token method function property-access"}},[e._v("createAgent")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("userProfile")]),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" theStoredProfile"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")])])]),r("h2",{attrs:{id:"properties"}},[r("a",{attrs:{href:"#properties","aria-hidden":"true"}},[e._v("#")]),e._v("Properties")]),r("h3",{attrs:{id:"cookies"}},[r("a",{attrs:{href:"#cookies","aria-hidden":"true"}},[e._v("#")]),e._v("cookies")]),r("p",[e._v('Cookies for all loaded "origins" for the browsing session.')]),r("h4",{attrs:{id:"type-cookie"}},[r("a",{attrs:{href:"#type-cookie","aria-hidden":"true"}},[e._v("#")]),r("strong",[e._v("Type")]),e._v(": "),r("a",{attrs:{href:"/docs/advanced/cookie-storage#cookie"}},[r("code",{pre:!0},[e._v("Cookie[]")])])]),r("h3",{attrs:{id:"deviceprofile"}},[r("a",{attrs:{href:"#deviceprofile","aria-hidden":"true"}},[e._v("#")]),e._v("deviceProfile")]),r("p",[e._v("An object containing hardware device properties emulated in this userProfile like memory and gpu information.")]),r("h4",{attrs:{id:"type-object"}},[r("a",{attrs:{href:"#type-object","aria-hidden":"true"}},[e._v("#")]),r("strong",[e._v("Type")]),e._v(": "),r("code",{pre:!0},[e._v("object")])]),r("ul",[r("li",[e._v("deviceMemory "),r("code",{pre:!0},[e._v("number")]),e._v(". The amount of memory specified for this machine")]),r("li",[e._v("webGlParameters "),r("code",{pre:!0},[e._v("object")]),e._v(". Key value of WebGlParameters to override (ie, { 37445: 'WebGl Vendor' })")]),r("li",[e._v("videoDevice "),r("code",{pre:!0},[e._v("object { deviceId: string, groupId: string }")]),e._v(". A video device to emulate if none is present, such as on a headless server.")])]),r("h3",{attrs:{id:"storage"}},[r("a",{attrs:{href:"#storage","aria-hidden":"true"}},[e._v("#")]),e._v("storage")]),r("p",[e._v('An object with a key for each "security origin" of a page, and value all the associated '),r("a",{attrs:{href:"#dom-storage"}},[e._v("DomStorage")]),e._v(".")]),r("h4",{attrs:{id:"dom-storage"}},[r("a",{attrs:{href:"#dom-storage","aria-hidden":"true"}},[e._v("#")]),e._v("A "),r("code",{pre:!0},[e._v("DomStorage")]),e._v(" object contains:")]),r("ul",[r("li",[e._v("localStorage "),r("code",{pre:!0},[e._v("[key,value][]")]),e._v(". The "),r("code",{pre:!0},[e._v("window.localStorage")]),e._v(" entries for a given domain.")]),r("li",[e._v("sessionStorage "),r("code",{pre:!0},[e._v("[key,value][]")]),e._v(". The "),r("code",{pre:!0},[e._v("window.sessionStorage")]),e._v(" entries for a given domain.")]),r("li",[e._v("indexedDB "),r("code",{pre:!0},[e._v("IndexedDB[]")]),e._v(". An array of the "),r("code",{pre:!0},[e._v("indexedDB")]),e._v(" databases for a given domain with records stored as "),r("a",{attrs:{href:"https://github.com/dfahlander/typeson",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("typeson")]),e._v(".")])]),r("h4",{attrs:{id:"type-object--origin-string-domstorage-"}},[r("a",{attrs:{href:"#type-object--origin-string-domstorage-","aria-hidden":"true"}},[e._v("#")]),r("strong",[e._v("Type")]),e._v(": "),r("code",{pre:!0},[e._v("object { [origin: string]: DomStorage }")])]),r("ul",[r("li",[e._v("key "),r("code",{pre:!0},[e._v("string")]),e._v('. The "security origin" of a page or iFrame as defined by Chrome.')]),r("li",[e._v("value "),r("a",{attrs:{href:"#dom-storage"}},[e._v("DomStorage")]),e._v(". The "),r("code",{pre:!0},[e._v("DomStorage")]),e._v(" entry for the given origin.")])]),r("h3",{attrs:{id:"useragentstring"}},[r("a",{attrs:{href:"#useragentstring","aria-hidden":"true"}},[e._v("#")]),e._v("userAgentString")]),r("p",[e._v("The user agent used in this profile. Many sites that track user fingerprint information track the useragent information and expect it to remain the same. You can still override this (eg, to update a browser version) by overriding the "),r("code",{pre:!0},[e._v("userAgent")]),e._v(" parameter when constructing a new "),r("a",{attrs:{href:"/docs/basic-interfaces/agent"}},[r("code",{pre:!0},[e._v("Agent")])]),e._v(".")]),r("h4",{attrs:{id:"type-string"}},[r("a",{attrs:{href:"#type-string","aria-hidden":"true"}},[e._v("#")]),r("strong",[e._v("Type")]),e._v(" string")])])}),[],!1,null,null,null);"function"==typeof p&&p(u),"function"==typeof l&&l(u);t.default=u.exports},vu0Y:function(e,t,r){"use strict";t.a={name:"VueRemarkRoot",render:function(e){return e("div",null,this.$slots.default)}}}}]);