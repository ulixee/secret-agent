(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{vu0Y:function(t,e,s){"use strict";e.a={name:"VueRemarkRoot",render:function(t){return t("div",null,this.$slots.default)}}},ziYA:function(t,e,s){"use strict";s.r(e);var a=s("Ow4o"),n=s("vu0Y"),o=s("pLV6");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o.a.config.optionMergeStrategies;var p={VueRemarkRoot:n.a},c=function(t){var e=t.options.components=t.options.components||{},s=t.options.computed=t.options.computed||{};Object.keys(p).forEach((function(t){"object"===r(p[t])&&"function"==typeof p[t].render||"function"==typeof p[t]&&"function"==typeof p[t].options.render?e[t]=p[t]:s[t]=function(){return p[t]}}))},i=o.a.config.optionMergeStrategies,l="__vueRemarkFrontMatter",u={excerpt:null,title:"Introduction"};var v=function(t){t.options[l]&&(t.options[l]=u),o.a.util.defineReactive(t.options,l,u),t.options.computed=i.computed({$frontmatter:function(){return t.options[l]}},t.options.computed)},_=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("VueRemarkRoot",[s("h1",{attrs:{id:"introduction"}},[s("a",{attrs:{href:"#introduction","aria-hidden":"true"}},[t._v("#")]),t._v("Introduction")]),s("blockquote",[s("p",[t._v("SecretAgent is a free and open source headless browser that's written in NodeJs, built on top of Chrome and "),s("a",{attrs:{href:"https://github.com/ulixee/double-agent/",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("nearly impossible for websites to detect")]),t._v(".")])]),s("h2",{attrs:{id:"why-secretagent"}},[s("a",{attrs:{href:"#why-secretagent","aria-hidden":"true"}},[t._v("#")]),t._v("Why SecretAgent?")]),s("ul",[s("li",[s("strong",[t._v("Built for scraping")]),t._v(" - it's the first modern headless browsers designed specifically for scraping instead of just automated testing.")]),s("li",[s("strong",[t._v("Designed for web developers")]),t._v(" - We've recreated a fully compliant DOM directly in NodeJS allowing you bypass the headaches of previous scraper tools.")]),s("li",[s("strong",[t._v("Powered by Chrome")]),t._v(" - The powerful Chrome engine sits under the hood, allowing for lightning fast rendering.")]),s("li",[s("strong",[t._v("Emulates any modern browser")]),t._v(" - Browser emulators make it easy to disguise your script as practically any browser.")]),s("li",[s("strong",[t._v("Avoids detection along the entire stack")]),t._v(" - Don't be blocked because of TLS fingerprints in your networking stack.")])]),s("h2",{attrs:{id:"how-it-works"}},[s("a",{attrs:{href:"#how-it-works","aria-hidden":"true"}},[t._v("#")]),t._v("How It Works")]),s("p",[t._v("We started by challenging ourselves to create the ultimate scraper detection tool, which we coined "),s("a",{attrs:{href:"https://github.com/ulixee/double-agent/",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("DoubleAgent")]),t._v(". Along the way we discovered 76,697 checks that any website can implement to "),s("a",{attrs:{href:"https://stateofscraping.org",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("block practically all known scrapers")]),t._v(". Then we designed SecretAgent to bypass detection by emulating real users.")]),s("p",[t._v("SecretAgent uses Chrome as its core rendering engine under the hood, with DevTools Protocol as its glue layer.")]),s("p",[t._v("Instead of creating another complex puppeteer-like API that requires use of nested callbacks and running code in remote contexts, we designed the AwaitedDOM. AwaitedDOM is a W3C compliant DOM written for NodeJS that allows you to write scraper scripts as if you were inside the webpage.")]),s("h2",{attrs:{id:"installation"}},[s("a",{attrs:{href:"#installation","aria-hidden":"true"}},[t._v("#")]),t._v("Installation")]),s("p",[t._v("To use SecretAgent in your project, install it with npm or yarn:")]),s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",{pre:!0,attrs:{class:"language-bash"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i --save secret-agent")])]),s("p",[t._v("or")]),s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",{pre:!0,attrs:{class:"language-bash"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" secret-agent")])]),s("p",[t._v("When you install SecretAgent, it also downloads a recent version of Chrome and an app call "),s("a",{attrs:{href:"/docs/advanced/session-replay"}},[t._v("Replay")]),t._v(" to debug and troubleshoot sessions.")]),s("p",[t._v("More details about installation can be found on the "),s("a",{attrs:{href:"/docs/help/troubleshooting"}},[t._v("troubleshooting")]),t._v(" page.")]),s("h2",{attrs:{id:"usage-example"}},[s("a",{attrs:{href:"#usage-example","aria-hidden":"true"}},[t._v("#")]),t._v("Usage Example")]),s("p",[t._v("SecretAgent's API should be familiar to web developers everywhere. We created a W3C compliant DOM library for Node, which allows you to use the exact same DOM selector and traversal commands as you do in modern web browsers like Chromium, Firefox, and Safari.")]),s("p",[t._v("For example, here's how you might extract the title and intro paragraph from example.org:")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",{pre:!0,attrs:{class:"language-js"}},[s("span",{pre:!0,attrs:{class:"token keyword module"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token imports"}},[t._v("agent")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword module"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'secret-agent'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword control-flow"}},[t._v("await")]),t._v(" agent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("goto")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" title "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword control-flow"}},[t._v("await")]),t._v(" agent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("document")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" intro "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword control-flow"}},[t._v("await")]),t._v(" agent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("document")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'p'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("textContent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword control-flow"}},[t._v("await")]),t._v(" agent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("close")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token console class-name"}},[t._v("console")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Retrieved from https://example.org'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    intro"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])]),s("p",[t._v("As shown in the example above, window.document follows the standard DOM specification, but with a cool twist which we call the AwaitedDOM.")])])}),[],!1,null,null,null);"function"==typeof c&&c(_),"function"==typeof v&&v(_);e.default=_.exports}}]);